<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Tallycounter</title>

    <meta name="description" content="A simple tallycounter.">
    <meta name="author" content="Simon Haas">
</head>

<body>
    <p id="counter" onclick="confirmReset()"></p>
    <div class="split left" onclick="increment()">
        <p class="sign noselect">+</p>
    </div>
    <div class="split right" onclick="decrement()">
        <p class="sign noselect">-</p>
    </div>
</body>
<script>
    let counter = document.getElementById("counter");

    let increments;
    let decrements;

    if (localStorage.increments) {
        increments = Number(localStorage.increments);
    } else {
        increments = 0;
    }

    if (localStorage.decrements) {
        decrements = Number(localStorage.decrements);
    } else {
        decrements = 0;
    }

    updateCounter();

    function increment() {
        increments += 1;
        updateCounter();
    }

    function decrement() {
        decrements += 1;
        updateCounter();
    }

    function updateCounter() {
        let calculation = "+" + increments + "-" + decrements + "=" + (increments - decrements);
        console.log(calculation);
        counter.innerHTML = calculation;
        updateStorage();
    }

    function updateStorage() {
        localStorage.increments = increments;
        localStorage.decrements = decrements;
    }

    function confirmReset() {
        let confirmed = confirm("Zähler wirklich auf Null zurücksetzen?");
        if (confirmed) {
            increments = 0;
            decrements = 0;
            updateCounter();
        }
    }
</script>
<style>
    #counter {
        font-size: 8vh;
        font-weight: bold;
        text-align: center;
    }
    .split {
        height: 80%;
        width: 50%;
        position: fixed;
        top: 20%;
        overflow-x: hidden;
    }

    .left {
        left: 0;
        background-color: grey;
    }

    .right {
        right: 0;
        background-color: lightgray;
    }

    .sign {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 60v;
        font-weight: bold;
        font-size: 20vmin;
    }

    .noselect {
        /* iOS Safari */
        -webkit-touch-callout: none;

        /* Safari */
        -webkit-user-select: none;

        /* Konqueror HTML */
        -khtml-user-select: none;

        /* Firefox */
        -moz-user-select: none;

        /* Internet Explorer/Edge */
        -ms-user-select: none;

        /* Non-prefixed version, currently supported by Chrome and Opera */
        user-select: none;
    }
</style>

</html>